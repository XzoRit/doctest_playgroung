import testing ;

alias sources
    : calculator.cpp leap_year.cpp test_main.cpp
    ;

alias sources_tests_disabled
    : sources
    : <define>DOCTEST_CONFIG_DISABLE
    ;

alias sources_tests_enabled
    : sources
    ;

lib lib
    : sources_tests_disabled
    : <include>../../doctest/doctest
    ;

exe test_lib
    : sources_tests_enabled
    : <include>../../doctest/doctest
    ;

unit-test exec_tests
    : test_lib
    ;
